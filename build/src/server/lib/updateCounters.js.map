{"version":3,"file":"updateCounters.js","sourceRoot":"","sources":["../../../../src/server/lib/updateCounters.ts"],"names":[],"mappings":"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"}